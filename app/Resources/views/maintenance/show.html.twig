{% extends 'base.html.twig' %}

{% block body %}
    <h1>Maintenance</h1>

    <table class="table table-striped table-hove">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ maintenance.id }}</td>
            </tr>
            <tr>
                <th>Datemaintenance</th>
                <td>{% if maintenance.dateMaintenance %}{{ maintenance.dateMaintenance|date('Y-m-d H:i:s') }}{% endif %}</td>
            </tr>
            <tr>
                <th>Kilometrage</th>
                <td>{{ maintenance.kilometrage }}</td>
            </tr>
        </tbody>
    </table>

    <div class="btn-group" role="group" aria-label="List">
            <a href="{{ path('maintenance_index') }}" class="btn btn-primary">Back to the list</a>
        
            <a href="{{ path('maintenance_edit', { 'id': maintenance.id }) }}" class="btn btn-primary">Edit</a>
            {{ form_start(delete_form) }}
                <input type="submit" value="Delete" class="btn btn-primary">
            {{ form_end(delete_form) }}
    </div>
    <table class="table table-striped table-hover">
        <caption>
            <span>Lignes maintenance</span>
        </caption>
        <thead class="thead-dark">
         
            <tr>
                    <th >Piece</th>
                    <th >Observation</th>
                    <th >Fournisseur</th>
                    <th >PU</th>
                    <th >Qte</th>
                    
            </tr>
        </thead>
        <tbody>
       
            {% for ligne_m in maintenance.ligneMaintenances %}
                <tr>
                    <td>{{ ligne_m.piece }}</td>
                    <td>{{ ligne_m.observation }}</td>
                    <td>{{ ligne_m.fournisseur }}</td>
                    <td>{{ ligne_m.prixUnitairePiece }}</td>
                    <td>{{ ligne_m.qtePiece }}</td>                    
                </tr>
            {% endfor %}
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                           
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>Montant maintenance</td>
                    <td>{{ maintenance.montantMaintenance }}</td>
                                      
                </tr>
        </tbody>
    </table>
{% endblock %}
